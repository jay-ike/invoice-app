heading(weight, size, height, spacing)
    font-weight: weight
    font-size: size
    line-height: height
    letter-spacing: spacing
decoElt(size, ratio, fill)
    inline-size: size
    aspect-ratio: ratio
    background-color: fill
inlineFlex(gap=.5em)
    display: inline-flex
    gap: var(--items-space, gap)
    align-items: center

darkShade()
    --color-text: var(--system-color-lightGrayishBlue)
    --color-blank: var(--system-color-darkPurple)
    --color-labelText: var(--system-color-lightPurple)
    --color-shadow: rgba(0, 0, 0, 0.1)
    --page-bg: hsl(233 30 11)
    --color-checkboxFill: var(--page-bg)
    --color-info: hsl(231, 11, 98)
    --color-infoFill: hsla(231, 5, 98, 0.15)
    --color-warningFill: hsla(34, 5, 95, 0.15)
    --color-successFill: hsla(159, 5, 95, 0.15)


:root
    --system-color-softBlue: hsl(252 94 67)
    --system-color-lightBlue: hsl(252 100 73)
    --system-color-softRed: hsl(0 80 63)
    --system-color-lightRed: hsl(0 100 80)
    --system-color-limeGreen: hsl(160 67 52)
    --system-color-pureOrange: hsl(34 100 50)
    --system-color-grayishBlue: hsl(231 20 27)
    --system-color-lightGrayishBlue: hsl(231 67 99)
    --system-color-darkBlue: hsl(231 28 7)
    --system-color-lightPurple: hsl(231 73 93)
    --system-color-softPurple: hsl(231 37 63)
    --system-color-darkPurple: hsl(233 31 17)

    --system-color-fillPrimary: var(--page-bg, hsl(240 27 98))
    --system-color-blank: var(--color-blank, #fff)
    --system-color-labelText: var(--color-labelText, var(--system-color-softPurple))
    --system-color-captionText: var(--color-captionText, hsl(231 20 61))
    --system-color-text: var(--color-text, var(--system-color-darkBlue))
    --system-color-shadow: var(--color-shadow, hsl(231 38 90))
    --system-color-checkboxFill: var(--color-checkboxFill, var(--system-color-lightPurple))
    --system-color-warningFill: var(--color-warningFill, hsl(34, 90, 95))
    --system-color-successFill: var(--color-successFill, hsl(159, 90, 98))
    --system-color-info: var(--color-info, hsl(231, 34, 33))
    --system-color-infoFill: var(--color-infoFill, hsl(231, 15, 93))

    --system-heading-large: 2.25rem
    --system-heading-medium: 1.5rem
    --system-heading-small: 0.9375rem
    --system-text-body: 0.8125rem

    --invoice-grid: "ref . name" ".  .   ." 1rem "date . status" "total . status" / 1fr .5fr 1fr;


@font-face
    font-family: "Spartan"
    src: url("../LeagueSpartan-VariableFont_wght.ttf") format("truetype")
    font-variant-ligatures: common-ligatures discretionary-ligatures historical-ligatures
    font-feature-settings: "zero"

[data-apearence="dark"]
    darkShade()

body
    font-family: Spartan
    line-height: 1.5
    font-size: 1rem
    font-weight: 500
    color: var(--system-color-text)
    background-color: var(--system-color-fillPrimary)
    accent-color: var(--system-color-softBlue)
    caret-color: var(--system-color-softBlue)
section
    --color-fill: var(--system-color-fillPrimary)
    --min-padding 1.5em clamp(.5em, 4cqi, 1.5em) .5em
    overflow: hidden auto
    max-block-size: calc(100lvb - 7rem)
    container: section / inline-size
.heading-l
    --f-size: var(--system-heading-large)
    heading(bold, var(--system-heading-large), 1.1, -1px)
.heading-m
    heading(bold, var(--system-heading-medium), 1.1, -0.75px)
.heading-s
    heading(bold, var(--system-heading-small), 1, -0.25px)

.sm-hide
    display: none
.sticky-top
    position: sticky
    inset-block-start: 0
    z-index: 2
.no-gap
    --space: 0
.subtitle-text
    color: var(--color-labelText, hsl(231, 20, 61))
.btn
    inlineFlex()
    border-radius: 1.5rem
    font-weight: 900
    font-size: var(--system-heading-small)
    &:focus,
    &:hover
        background-color: var(--color-fill-hover, transparent)
.btn-primary
    --color-fill: var(--system-color-softBlue)
    --color-fill-hover: var(--system-color-lightBlue)
    --color-text: white
.extend-click
    position: relative
    &::before
        content: ""
        inset: 0
        position: absolute
.relative
    position: relative

[data-icon="arrow_down"]
    --min-padding: .75em 1.5em .75em 0
    --space: 0.1em
    cursor: pointer
    &::after
        content: ""
        decoElt(1em, 0.6, var(--system-color-softBlue))
        clip-path: url(#arrow_down)
        transform: var(--transformation, none)
    [open] &
        --transformation: rotateZ(180deg)

[data-icon="add-circle"]
    --min-padding: .75em clamp(.5em, 2vw, 1.5em) .75em .5em
    &::before
        content: ""
        decoElt(2em, 1, currentColor)
        clip-path: url(#add-circle)

[data-state="pending"]
    --color-text: var(--system-color-pureOrange)
    --color-fill: var(--system-color-warningFill)
[data-state="paid"]
    --color-text: var(--system-color-limeGreen)
    --color-fill: var(--system-color-successFill)
[data-state="draft"]
    --color-text: var(--system-color-info)
    --color-fill: var(--system-color-infoFill)

@require "./layouts.styl"

#logo
    width: 72px
    aspect-ratio: 1
    border-radius: 0 1.5em 1.5em 0
    position: relative
    background-color: var(--system-color-softBlue)
    &::after
        content: ""
        position: absolute
        decoElt(40%, 1, transparent)
        inset: 0
        margin: auto
        background-image: conic-gradient(from -15deg at center, transparent 30deg, white 30deg)
        border-radius: 50%
    &::before
        content: ""
        decoElt(100%, 2, var(--system-color-lightBlue))
        position: absolute
        inset-block-end: 0
        border-radius: 1.5em 0 1.5em 0

#status-form
    font-weight: bold
    border-radius: .5em
    box-shadow: 0 10 20px 0 var(--system-color-shadow)
    background-color: var(--system-color-blank)
    position: absolute
    inset-block-start: 110%
    inset-inline-start: -50%
    min-inline-size: 12rem
    opacity: 0
    [open] &
        opacity: 1

.inv-option
    --space: 1em
    cursor: pointer
    &:focus,
    &:hover
        --checkbox-border: 2px solid var(--system-color-softBlue)

.status-option
    --icon-fill: none;
    display: inline-block
    position: relative
    isolation: isolate
    inline-size: 1.5rem
    aspect-ratio: 1
    & > *
        position: absolute
        inline-size: 100%
        aspect-ratio: 1
    & > svg
        background-color: var(--fill, var(--system-color-checkboxFill))
        border-radius: 0.25rem
        z-index: -1
        stroke: white
        stroke-dashoffset: 1
        stroke-dasharray: 1
        padding: .15em
        border: var(--checkbox-border, none)
    & > input:checked + svg
        --fill: var(--system-color-softBlue)
        stroke-dashoffset: 0
    & > input[type="checkbox"]
        margin: 0
        opacity: 0


.banner
    --alignment: stretch
    --icon-fill: var(--system-color-softPurple)
    background-color: var(--system-color-darkPurple)
    .theme-switch
        border-right: 1px solid var(--system-color-grayishBlue)
        margin-inline-end: 1.5em
    & > nav
        padding: 0 1.5em

.invoices:empty
    display: none
.empty
    --min-padding: 2em 1.5em 0
    display: none
    text-align: center
    & > p
        max-inline-size: 25ch
        white-space: pre-wrap
    .invoices:empty + &
        display: grid
        place-content: center
        place-items: center

.invoice__summary
    --min-padding: 1rem 1.5rem
    --f-size: 1rem
    --f-size-diff: 0.2
    --f-size-fluid: 4cqi
    --space: 1rem
    display: grid
    grid-template: var(--invoice-grid)
    font-weight: bold
    background-color: var(--system-color-blank)
    border-radius: .5rem
    align-items: center
    container: invoice / inline-size
    & > :nth-child(2),
    & > :nth-child(3)
        font-weight: 500
        color: var(--system-color-labelText)
    & > :first-child
        grid-area: ref
        &::before
            content: "#"
            color: var(--system-color-captionText)
    &> :nth-child(2)
        grid-area: date
    & > :nth-child(3)
        grid-area: name
    & > :nth-child(4)
        grid-area: total
    & > .box
        --min-padding: var(--box-padding, .75rem clamp(.5rem, 5cqi, 1.5rem))
        color: var(--color-text, currentColor)
        text-transform: capitalize
        background-color: var(--color-fill, transparent)
        grid-area: status
        border-radius: .5rem
        inlineFlex()
        &::before
            content: ""
            display: inline-block
            decoElt(.5rem, 1, currentColor)
            border-radius: 50%
@media screen and (min-width: 480px)
    :root
        --invoice-grid: "ref date name total status arrow" / 8ch 1fr 1fr .8fr .75fr 1.5em

    .sm-hide
        display: initial
    .invoice__summary
        --min-padding: 1em clamp(0.5em, 2cqi, 1.5em)
        --box-padding: .625em clamp(0.5em, 2cqi, 1em)
        --f-size-fluid: 2cqi
        --f-size-diff: 0.3
        gap: .5em
        &::after
            content: ""
            decoElt(1.5em, 1, var(--system-color-softBlue))
            clip-path: url(#arrow_left)
            transform: rotateZ(180deg)
            grid-area: arrow


@media(prefers-color-scheme: dark)
    :root
        darkShade()

@css {
@supports(font-size: 1cqi) {
    :is(h1, h2, h3, h4, p, dd, .heading-l, .fluid-type) {
        font-size: clamp(var(--f-size) - var(--f-size) * var(--f-size-diff, 0.3), var(--f-size-fluid, 5cqi), var(--f-size));
    }
}
}
